---
import Layout from "../layouts/Layout.astro";
import { DashboardView } from "../components/DashboardView";

// Check authentication
const supabase = Astro.locals.supabase;
const {
  data: { user },
  error,
} = await supabase.auth.getUser();

if (error || !user) {
  return Astro.redirect("/login");
}
---

<Layout title="Dashboard - Moje zestawy">
  <DashboardView client:load />
</Layout>
