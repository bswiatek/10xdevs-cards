---
// Check if user is logged in and redirect to dashboard
const {
  data: { session },
} = await Astro.locals.supabase.auth.getSession();

if (session) {
  return Astro.redirect("/dashboard");
}

// If not logged in, redirect to login page
return Astro.redirect("/login");
---
